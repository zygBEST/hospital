{"remainingRequest":"D:\\My_Project\\毕设项目\\flask+vue医务管理系统\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\My_Project\\毕设项目\\flask+vue医务管理系统\\frontend\\src\\views\\DealOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\My_Project\\毕设项目\\flask+vue医务管理系统\\frontend\\src\\views\\DealOrder.vue","mtime":1742046642703},{"path":"D:\\My_Project\\毕设项目\\flask+vue医务管理系统\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"D:\\My_Project\\毕设项目\\flask+vue医务管理系统\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1689001368654},{"path":"D:\\My_Project\\毕设项目\\flask+vue医务管理系统\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689001367240},{"path":"D:\\My_Project\\毕设项目\\flask+vue医务管理系统\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1689001369023}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBqd3REZWNvZGUgZnJvbSAiand0LWRlY29kZSI7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAiQC91dGlscy9zdG9yYWdlLmpzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0LmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJkZWFsT3JkZXIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvSWQ6IDEsCiAgICAgIHBJZDogMSwKICAgICAgZElkOiAwLAogICAgICBwTmFtZTogIjEiLAogICAgICBwR2VuZGVyOiAiMSIsCiAgICAgIHBQaG9uZTogIjEiLAogICAgICBkTmFtZTogIiIsCiAgICAgIGRydWdEYXRhOiBbXSwKICAgICAgc2l6ZTogNCwKICAgICAgcGFnZU51bWJlcjogMSwKICAgICAgdG90YWw6IDMsCiAgICAgIHF1ZXJ5RHJ1ZzogIiIsCiAgICAgIGRydWdCdXlEYXRhOiBbXSwKICAgICAgZHJ1Z1RvdGFsUHJpY2U6IDAsCiAgICAgIC8v55eF5ZugCiAgICAgIHJlYXNvbjogIiIsCiAgICAgIC8v6aG555uu6KGo5qC85pWw5o2uCiAgICAgIGNoZWNrRGF0YTogW10sCiAgICAgIHF1ZXJ5Q2hlY2s6ICIiLAogICAgICBjaGVja1RvdGFsOiAzLAogICAgICBjaGVja1NpemU6IDQsCiAgICAgIGNoZWNrUGFnZU51bWJlcjogMSwKICAgICAgY2hlY2tUb3RhbFByaWNlOiAwLAogICAgICBjaGVja0J1eURhdGE6IFtdLAogICAgICAvLyDnl4Xlm6DnvJblhpnlr7nor53moYbmmL7npLrlj4LmlbAKICAgICAgcmVhc29uRm9ybVZpc2libGU6IGZhbHNlLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJJbmZvKCk7Ly8g6aG16Z2i5Yqg6L295pe26I635Y+W55So5oi35L+h5oGvCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRVc2VySW5mbygpIHsKICAgICAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbigpOyAvLyDojrflj5YgdG9rZW4KICAgICAgaWYgKCF0b2tlbikgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7flhYjnmbvlvZXvvIEiKTsKICAgICAgfQoKICAgICAgcmVxdWVzdC5nZXQoIi9nZXRVc2VySW5mbyIsIHsKICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0gLy8g5Zyo6K+35rGC5aS05Lit5pC65bimIHRva2VuCiAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W55So5oi35L+h5oGv5aSx6LSlIik7CiAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICB0aGlzLmROYW1lID0gcmVzLmRhdGEuZGF0YS51c2VyTmFtZTsgLy8g6K6+572u55So5oi35ZCNCiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZXJyID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuiOt+WPlueUqOaIt+S/oeaBr+Wksei0pSIpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v5qC55o2uaWTlh4/lsJHoja/nianmlbDph48KICAgIHJlZHVjZURydWdOdW1iZXIoZHJJZCwgdXNlZE51bWJlcikgewogICAgICByZXF1ZXN0CiAgICAgICAgLnBvc3QoImRydWcvcmVkdWNlRHJ1Z051bWJlciIsIHsKICAgICAgICAgICAgZHJJZDogZHJJZCwKICAgICAgICAgICAgdXNlZE51bWJlcjogdXNlZE51bWJlciwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIC8v54K55Ye75o+Q5Lqk5oyJ6ZKuCiAgICBzdWJtaXRDbGljaygpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRydWdCdXlEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5yZWR1Y2VEcnVnTnVtYmVyKAogICAgICAgICAgdGhpcy5kcnVnQnV5RGF0YVtpXS5kcklkLAogICAgICAgICAgdGhpcy5kcnVnQnV5RGF0YVtpXS5kck51bQogICAgICAgICk7CiAgICAgIH0KICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgb0lkOiB0aGlzLmRhdGFQYWNrYWdlKCkub0lkLAogICAgICAgIHBJZDogdGhpcy5wSWQsCiAgICAgICAgZElkOiB0aGlzLmRJZCwKICAgICAgICBvUmVjb3JkOiB0aGlzLmRhdGFQYWNrYWdlKCkub1JlY29yZCwKICAgICAgICBvRHJ1ZzogdGhpcy5kYXRhUGFja2FnZSgpLm9EcnVnLAogICAgICAgIG9DaGVjazogdGhpcy5kYXRhUGFja2FnZSgpLm9DaGVjaywKICAgICAgICBvVG90YWxQcmljZTogdGhpcy5kYXRhUGFja2FnZSgpLm9Ub3RhbFByaWNlLAogICAgICB9OwogICAgICByZXF1ZXN0CiAgICAgICAgLnBvc3QoImRvY3Rvci91cGRhdGVPcmRlciIsIGRhdGEpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+axguS/oeaBr+mUmeivryIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuaPkOS6pOaIkOWKn++8geivt+mAmuefpeaCo+iAheeZu+W9leezu+e7n+iHquWKqee8tOi0ue+8gSIpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9vcmRlclRvZGF5Iik7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v5bCB6KOF5pWw5o2uCiAgICBkYXRhUGFja2FnZSgpIHsKICAgICAgbGV0IG9EcnVnID0gIiI7CiAgICAgIGxldCBvQ2hlY2sgPSAiIjsKICAgICAgbGV0IG9Ub3RhbFByaWNlID0gMDsKICAgICAgbGV0IG9JZCA9IHRoaXMub0lkOwogICAgICBsZXQgb1JlY29yZCA9IHRoaXMucmVhc29uOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHJ1Z0J1eURhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBvRHJ1ZyArPQogICAgICAgICAgdGhpcy5kcnVnQnV5RGF0YVtpXS5kck5hbWUgKwogICAgICAgICAgIioiICsKICAgICAgICAgIHRoaXMuZHJ1Z0J1eURhdGFbaV0uZHJQcmljZSArCiAgICAgICAgICAiKOWFgykqIiArCiAgICAgICAgICB0aGlzLmRydWdCdXlEYXRhW2ldLmRyTnVtICsKICAgICAgICAgICIgIjsKICAgICAgfQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hlY2tCdXlEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgb0NoZWNrICs9CiAgICAgICAgICB0aGlzLmNoZWNrQnV5RGF0YVtpXS5jaE5hbWUgKwogICAgICAgICAgIioiICsKICAgICAgICAgIHRoaXMuY2hlY2tCdXlEYXRhW2ldLmNoUHJpY2UgKwogICAgICAgICAgIijlhYMpICI7CiAgICAgIH0KICAgICAgb0NoZWNrICs9ICIg6aG555uu5oC75Lu3IiArIHRoaXMuY2hlY2tUb3RhbFByaWNlICsgIuWFgyAiOwogICAgICBvRHJ1ZyArPSAiIOiNr+eJqeaAu+S7tyIgKyB0aGlzLmRydWdUb3RhbFByaWNlLnRvRml4ZWQoMikgKyAi5YWDICI7CiAgICAgIG9Ub3RhbFByaWNlID0gdGhpcy5jaGVja1RvdGFsUHJpY2UgKyB0aGlzLmRydWdUb3RhbFByaWNlOwogICAgICByZXR1cm4geyBvSWQsIG9SZWNvcmQsIG9EcnVnLCBvQ2hlY2ssIG9Ub3RhbFByaWNlIH07CiAgICB9LAogICAgLy/ngrnlh7vnl4Xlm6Dkv53lrZjmjInpkq4KICAgIGhvbGRSZWFzb24oKSB7CiAgICAgIHRoaXMucmVhc29uRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLkv6Hmga/kv53lrZjmiJDlip/vvIEiKTsKICAgIH0sCiAgICAvL+aJk+W8gOeXheWboOe8luWGmeWvueivneahhgogICAgb3BlblJlYXNvbigpIHsKICAgICAgdGhpcy5yZWFzb25Gb3JtVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy/mo4Dmn6XliJfooajngrnlh7vnp7vpmaTmjInpkq4KICAgIGRlbGV0ZUNoZWNrKGNoSWQpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoZWNrQnV5RGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmNoZWNrQnV5RGF0YVtpXS5jaElkID09PSBjaElkKSB7CiAgICAgICAgICB0aGlzLmNoZWNrVG90YWxQcmljZSAtPSB0aGlzLmNoZWNrQnV5RGF0YVtpXS5jaFByaWNlOyAvL+ajgOafpemhueebruS7t+agvOaAu+iuoQogICAgICAgICAgdGhpcy5jaGVja0J1eURhdGEuc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8v5qOA5p+l5YiX6KGo54K55Ye75aKe5Yqg5oyJ6ZKuCiAgICBhZGRDaGVjayhjaElkKSB7CiAgICAgIHJlcXVlc3QKICAgICAgICAucG9zdCgiYWRtaW4vZmluZENoZWNrIiwgewogICAgICAgICAgY2hJZDogY2hJZCwKICAgICAgICB9KQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGF0dXMgIT0gMjAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5L+h5oGv6K+35rGC5aSx6LSlIik7CiAgICAgICAgICAvL+WQjuerr+S8oOi/h+adpeeahOaYr+Wvueixoe+8jOihqOagvOe7keWumueahOaVsOe7hAogICAgICAgICAgdGhpcy5jaGVja0J1eURhdGEucHVzaCh7CiAgICAgICAgICAgIGNoSWQ6IHJlcy5kYXRhLmRhdGEuY2hJZCwKICAgICAgICAgICAgY2hQcmljZTogcmVzLmRhdGEuZGF0YS5jaFByaWNlLAogICAgICAgICAgICBjaE5hbWU6IHJlcy5kYXRhLmRhdGEuY2hOYW1lLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmNoZWNrVG90YWxQcmljZSA9IE1hdGgucm91bmQoKHRoaXMuY2hlY2tUb3RhbFByaWNlICsgcmVzLmRhdGEuZGF0YS5jaFByaWNlKSAqIDEwMCkgLyAxMDA7IC8v5qOA5p+l6aG555uu5Lu35qC85oC76K6hCiAgICAgICAgfSk7CiAgICB9LAogICAgLy/oja/nianpobXpnaLlpKflsI/liIfmjaLml7bop6blj5EKICAgIGNoZWNrU2l6ZUNoYW5nZShzaXplKSB7CiAgICAgIHRoaXMuY2hlY2tTaXplID0gc2l6ZTsKICAgICAgdGhpcy5yZXF1ZXN0Q2hlY2soKTsKICAgIH0sCiAgICAvL+ajgOafpemhteaVsOWIh+aNouaXtuinpuWPkQogICAgY2hlY2tDdXJyZW50Q2hhbmdlKG51bSkgewogICAgICB0aGlzLmNoZWNrUGFnZU51bWJlciA9IG51bTsKICAgICAgdGhpcy5yZXF1ZXN0Q2hlY2soKTsKICAgIH0sCiAgICAvL+ivt+axguajgOafpemhueebrgogICAgcmVxdWVzdENoZWNrKCkgewogICAgICByZXF1ZXN0CiAgICAgICAgLmdldCgiYWRtaW4vZmluZEFsbENoZWNrcyIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBzaXplOiB0aGlzLmNoZWNrU2l6ZSwKICAgICAgICAgICAgcGFnZU51bWJlcjogdGhpcy5jaGVja1BhZ2VOdW1iZXIsCiAgICAgICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5Q2hlY2ssCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT0gMjAwKSB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bkv6Hmga/lpLHotKUiKTsKICAgICAgICAgIHRoaXMuY2hlY2tEYXRhID0gcmVzLmRhdGEuZGF0YS5jaGVja3M7CiAgICAgICAgICB0aGlzLmNoZWNrVG90YWwgPSByZXMuZGF0YS5kYXRhLnRvdGFsOwogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOatpOWkhOmAu+i+kei+g+Wkjeadgu+8jOWuueaYk+WHuueOsOmUmeivrwogICAgICovCiAgICAvL+iNr+eJqeWIl+ihqOeCueWHu+enu+mZpOaMiemSrgogICAgZGVsZXRlRHJ1ZyhkcklkKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kcnVnQnV5RGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmRydWdCdXlEYXRhW2ldLmRySWQgPT09IGRySWQpIHsKICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5kcnVnRGF0YS5sZW5ndGg7IGorKykgewogICAgICAgICAgICBpZiAodGhpcy5kcnVnRGF0YVtqXS5kcklkID09PSBkcklkKSB0aGlzLmRydWdEYXRhW2pdLmRyTnVtYmVyICs9IDE7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmRydWdCdXlEYXRhW2ldLmRyTnVtIC09IDE7CiAgICAgICAgICB0aGlzLmRydWdCdXlEYXRhW2ldLmRyU3VtID0KICAgICAgICAgICAgTWF0aC5yb3VuZCh0aGlzLmRydWdCdXlEYXRhW2ldLmRyUHJpY2UgKiAxMDAgKiB0aGlzLmRydWdCdXlEYXRhW2ldLmRyTnVtKSAvIDEwMDsKCiAgICAgICAgICB0aGlzLmRydWdUb3RhbFByaWNlIC09IHRoaXMuZHJ1Z0J1eURhdGFbaV0uZHJQcmljZTsgLy/oja/nianku7fmoLzmgLvorqEKICAgICAgICAgIGlmICh0aGlzLmRydWdCdXlEYXRhW2ldLmRyTnVtID09PSAwKSB0aGlzLmRydWdCdXlEYXRhLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvL+iNr+eJqeWIl+ihqOeCueWHu+WinuWKoOaMiemSrgogICAgYWRkRHJ1ZyhkcklkKSB7CiAgICAgIHJlcXVlc3QKICAgICAgICAucG9zdCgiYWRtaW4vZmluZERydWciLCB7CiAgICAgICAgICBkcklkOiBkcklkLAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPSAyMDApIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLkv6Hmga/or7fmsYLlpLHotKUiKTsKICAgICAgICAgIC8v5ZCO56uv5Lyg6L+H5p2l55qE5piv5a+56LGh77yM6KGo5qC857uR5a6a55qE5pWw57uECiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHJ1Z0J1eURhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHRoaXMuZHJ1Z0J1eURhdGFbaV0uZHJJZCA9PT0gcmVzLmRhdGEuZGF0YS5kcklkKSB7CiAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRydWdEYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgIHRoaXMuZHJ1Z0RhdGFbal0uZHJJZCA9PT0gcmVzLmRhdGEuZGF0YS5kcklkICYmCiAgICAgICAgICAgICAgICAgIHRoaXMuZHJ1Z0RhdGFbal0uZHJOdW1iZXIgPiAwCiAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgdGhpcy5kcnVnRGF0YVtqXS5kck51bWJlciAtPSAxOwogICAgICAgICAgICAgICAgICB0aGlzLmRydWdCdXlEYXRhW2ldLmRyTnVtICs9IDE7CiAgICAgICAgICAgICAgICAgIHRoaXMuZHJ1Z0J1eURhdGFbaV0uZHJTdW0gPQogICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQodGhpcy5kcnVnQnV5RGF0YVtpXS5kclByaWNlICogdGhpcy5kcnVnQnV5RGF0YVtpXS5kck51bSAqIDEwMCkgLyAxMDA7CiAgICAgICAgICAgICAgICAgIHRoaXMuZHJ1Z1RvdGFsUHJpY2UgKz0gdGhpcy5kcnVnQnV5RGF0YVtpXS5kclByaWNlOyAvL+iNr+eJqeS7t+agvOaAu+iuoQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5kcnVnRGF0YS5sZW5ndGg7IGorKykgewogICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgdGhpcy5kcnVnRGF0YVtqXS5kcklkID09PSByZXMuZGF0YS5kYXRhLmRySWQgJiYKICAgICAgICAgICAgICB0aGlzLmRydWdEYXRhW2pdLmRyTnVtYmVyIDw9IDAKICAgICAgICAgICAgKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuZHJ1Z0J1eURhdGEucHVzaCh7CiAgICAgICAgICAgIGRySWQ6IHJlcy5kYXRhLmRhdGEuZHJJZCwKICAgICAgICAgICAgZHJQcmljZTogcmVzLmRhdGEuZGF0YS5kclByaWNlLAogICAgICAgICAgICBkck5hbWU6IHJlcy5kYXRhLmRhdGEuZHJOYW1lLAogICAgICAgICAgICBkck51bTogMSwKICAgICAgICAgICAgZHJTdW06IHJlcy5kYXRhLmRhdGEuZHJQcmljZSwKICAgICAgICAgIH0pOwogICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRydWdEYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmRydWdEYXRhW2pdLmRySWQgPT09IHJlcy5kYXRhLmRhdGEuZHJJZCkKICAgICAgICAgICAgICB0aGlzLmRydWdEYXRhW2pdLmRyTnVtYmVyIC09IDE7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmRydWdUb3RhbFByaWNlID0gTWF0aC5yb3VuZCgodGhpcy5kcnVnVG90YWxQcmljZSArIHJlcy5kYXRhLmRhdGEuZHJQcmljZSkgKiAxMDApIC8gMTAwOyAvL+iNr+eJqeS7t+agvOaAu+iuoQogICAgICAgIH0pOwogICAgfSwKICAgIC8v6I2v54mp6aG16Z2i5aSn5bCP5YiH5o2i5pe26Kem5Y+RCiAgICBoYW5kbGVTaXplQ2hhbmdlKHNpemUpIHsKICAgICAgdGhpcy5zaXplID0gc2l6ZTsKICAgICAgdGhpcy5yZXF1ZXN0RHJ1ZygpOwogICAgfSwKICAgIC8v6I2v54mp6aG15pWw5YiH5o2i5pe26Kem5Y+RCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKG51bSkgewogICAgICB0aGlzLnBhZ2VOdW1iZXIgPSBudW07CiAgICAgIHRoaXMucmVxdWVzdERydWcoKTsKICAgIH0sCgogICAgLy/ojrflj5boja/nianliJfooagKICAgIHJlcXVlc3REcnVnKCkgewogICAgICByZXF1ZXN0CiAgICAgICAgLmdldCgiYWRtaW4vZmluZEFsbERydWdzIiwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIHNpemU6IHRoaXMuc2l6ZSwKICAgICAgICAgICAgcGFnZU51bWJlcjogdGhpcy5wYWdlTnVtYmVyLAogICAgICAgICAgICBxdWVyeTogdGhpcy5xdWVyeURydWcsCiAgICAgICAgICB9LAogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgIT0gMjAwKSB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bkv6Hmga/lpLHotKUiKTsKICAgICAgICAgIHRoaXMuZHJ1Z0RhdGEgPSByZXMuZGF0YS5kYXRhLmRydWdzOwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLmRhdGEudG90YWw7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bmgqPogIXkv6Hmga8KICAgIHJlcXVlc3RQYXRpZW50KCkgewogICAgICByZXF1ZXN0CiAgICAgICAgLmdldCgicGF0aWVudC9maW5kUGF0aWVudEJ5SWQiLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgcElkOiB0aGlzLnBJZCwKICAgICAgICAgIH0sCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPSAyMDApIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuiOt+WPluS/oeaBr+Wksei0pSIpOwogICAgICAgICAgdGhpcy5wTmFtZSA9IHJlcy5kYXRhLmRhdGEucE5hbWU7CiAgICAgICAgICB0aGlzLnBHZW5kZXIgPSByZXMuZGF0YS5kYXRhLnBHZW5kZXI7CiAgICAgICAgICB0aGlzLnBQaG9uZSA9IHJlcy5kYXRhLmRhdGEucFBob25lOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vdG9rZW7op6PnoIEKICAgIHRva2VuRGVjb2RlKHRva2VuKSB7CiAgICAgIGlmICh0b2tlbiAhPT0gbnVsbCkgcmV0dXJuIGp3dERlY29kZSh0b2tlbik7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZElkID0gdGhpcy50b2tlbkRlY29kZShnZXRUb2tlbigpKS5kSWQ7CiAgICB0aGlzLm9JZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5Lm9JZDsKICAgIHRoaXMucElkID0gdGhpcy4kcm91dGUucXVlcnkucElkOwogICAgdGhpcy5yZXF1ZXN0UGF0aWVudCgpOwogICAgdGhpcy5yZXF1ZXN0RHJ1ZygpOwogICAgdGhpcy5yZXF1ZXN0Q2hlY2soKTsKICB9LAp9Owo="},{"version":3,"sources":["DealOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DealOrder.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <el-card>\n      <el-row>\n        <el-col :span=\"7\">\n          挂号单号：<el-input disabled v-model=\"oId\" class=\"orderInput\"></el-input>\n        </el-col>\n        <el-col :span=\"7\">\n          患者账号：<el-input disabled v-model=\"pId\" class=\"orderInput\"></el-input></el-col>\n        <el-col :span=\"7\">\n          患者姓名：<el-input disabled v-model=\"pName\" class=\"orderInput\"></el-input>\n        </el-col>\n        <el-col :span=\"3\">\n          <el-button type=\"success\" @click=\"submitClick\">提交</el-button>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-col :span=\"7\">\n          患者性别：<el-input disabled v-model=\"pGender\" class=\"orderInput\"></el-input>\n        </el-col>\n        <el-col :span=\"7\">\n          联系方式：<el-input disabled v-model=\"pPhone\" class=\"orderInput\"></el-input></el-col>\n        <el-col :span=\"7\">\n          医生姓名：<el-input disabled v-model=\"dName\" class=\"orderInput\"></el-input>\n        </el-col>\n        <el-col :span=\"3\">\n          <el-button type=\"success\" @click=\"openReason\">病因编写</el-button>\n        </el-col>\n      </el-row>\n      <!-- 药物表格 -->\n      <el-row>\n        <el-col :span=\"12\">\n          <el-input v-model=\"queryDrug\" placeholder=\"请输入名称查询\" class=\"drugInput\">\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"requestDrug\"></el-button>\n          </el-input>\n          <el-table :data=\"drugData\" stripe border>\n            <el-table-column label=\"编号\" prop=\"drId\"></el-table-column>\n            <el-table-column label=\"名称\" prop=\"drName\"></el-table-column>\n            <el-table-column label=\"剩余数量\" prop=\"drNumber\"></el-table-column>\n            <el-table-column label=\"单位\" prop=\"drUnit\"></el-table-column>\n            <el-table-column label=\"单价\" prop=\"drPrice\"></el-table-column>\n            <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"success\" style=\"font-size: 14px;\" @click=\"addDrug(scope.row.drId)\">\n                  <i class=\"el-icon-circle-plus-outline\" style=\"font-size: 16px;\"></i>\n                  增加</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <!-- 分页 -->\n          <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" background\n            layout=\"total, sizes, prev, pager, next\" :total=\"total\" :page-size=\"size\" :page-sizes=\"[1, 2, 4, 8, 16]\">\n          </el-pagination>\n          <el-row></el-row>\n        </el-col>\n        <!-- 右边已选择的药物 -->\n        <el-col :span=\"12\" class=\"drugRigth\">\n          <el-table stripe border :data=\"drugBuyData\" class=\"rigthTable\">\n            <el-table-column label=\"编号\" prop=\"drId\"></el-table-column>\n            <el-table-column label=\"名称\" prop=\"drName\"></el-table-column>\n            <el-table-column label=\"单价\" prop=\"drPrice\"></el-table-column>\n            <el-table-column label=\"数量\" prop=\"drNum\"></el-table-column>\n            <el-table-column label=\"小记\" prop=\"drSum\"></el-table-column>\n            <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"danger\" style=\"font-size: 14px;\" icon=\"el-icon-delete\"\n                  @click=\"deleteDrug(scope.row.drId)\"> 移除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <el-tag>共计：{{ drugTotalPrice.toFixed(2) }}元</el-tag>\n        </el-col>\n      </el-row>\n      <!-- 检查项目表格 -->\n      <el-row>\n        <el-col :span=\"12\">\n          <el-input v-model=\"queryCheck\" placeholder=\"请输入名称查询\" class=\"drugInput\">\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"requestCheck\"></el-button>\n          </el-input>\n          <el-table stripe border :data=\"checkData\">\n            <el-table-column label=\"编号\" prop=\"chId\"></el-table-column>\n            <el-table-column label=\"项目\" prop=\"chName\"></el-table-column>\n            <el-table-column label=\"价格\" prop=\"chPrice\"></el-table-column>\n            <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"success\" style=\"font-size: 14px;\" icon=\"el-icon-circle-plus-outline\"\n                  @click=\"addCheck(scope.row.chId)\"> 增加</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <!-- 分页 -->\n          <el-pagination @size-change=\"checkSizeChange\" @current-change=\"checkCurrentChange\" background\n            layout=\"total, prev, pager, next\" :total=\"checkTotal\" :page-size=\"checkSize\">\n          </el-pagination>\n        </el-col>\n        <!-- 右边已选择的检查 -->\n        <el-col :span=\"12\" class=\"drugRigth\">\n          <el-table stripe border class=\"rigthTable\" :data=\"checkBuyData\">\n            <el-table-column label=\"编号\" prop=\"chId\"></el-table-column>\n            <el-table-column label=\"项目\" prop=\"chName\"></el-table-column>\n            <el-table-column label=\"价格\" prop=\"chPrice\"></el-table-column>\n            <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n              <template slot-scope=\"scope\">\n                <el-button type=\"danger\" style=\"font-size: 14px;\" icon=\"el-icon-delete\"\n                  @click=\"deleteCheck(scope.row.chId)\"> 移除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <el-tag>共计：{{ checkTotalPrice.toFixed(2) }}元</el-tag>\n        </el-col>\n      </el-row>\n    </el-card>\n\n    <!-- 病因编写对话框 -->\n    <el-dialog title=\"病因编写\" :visible.sync=\"reasonFormVisible\">\n      <el-input type=\"textarea\" :rows=\"8\" placeholder=\"请输入内容\" v-model=\"reason\">\n      </el-input>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"reasonFormVisible = false\" style=\"font-size: 18px;\"><i class=\"el-icon-close\"\n            style=\"font-size: 20px;\"></i> 取 消</el-button>\n        <el-button type=\"primary\" @click=\"holdReason\">保存</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport jwtDecode from \"jwt-decode\";\nimport { getToken } from \"@/utils/storage.js\";\nimport request from \"@/utils/request.js\";\nexport default {\n  name: \"dealOrder\",\n  data() {\n    return {\n      oId: 1,\n      pId: 1,\n      dId: 0,\n      pName: \"1\",\n      pGender: \"1\",\n      pPhone: \"1\",\n      dName: \"\",\n      drugData: [],\n      size: 4,\n      pageNumber: 1,\n      total: 3,\n      queryDrug: \"\",\n      drugBuyData: [],\n      drugTotalPrice: 0,\n      //病因\n      reason: \"\",\n      //项目表格数据\n      checkData: [],\n      queryCheck: \"\",\n      checkTotal: 3,\n      checkSize: 4,\n      checkPageNumber: 1,\n      checkTotalPrice: 0,\n      checkBuyData: [],\n      // 病因编写对话框显示参数\n      reasonFormVisible: false,\n    };\n  },\n  mounted() {\n    this.getUserInfo();// 页面加载时获取用户信息\n  },\n  methods: {\n    getUserInfo() {\n      const token = getToken(); // 获取 token\n      if (!token) {\n        return this.$message.error(\"请先登录！\");\n      }\n\n      request.get(\"/getUserInfo\", {\n        headers: { Authorization: `Bearer ${token}` } // 在请求头中携带 token\n      })\n        .then(res => {\n          if (res.data.status !== 200) {\n            return this.$message.error(\"获取用户信息失败\");\n          }\n          console.log(res.data);\n          this.dName = res.data.data.userName; // 设置用户名\n        })\n        .catch(err => {\n          console.error(err);\n          this.$message.error(\"获取用户信息失败\");\n        });\n    },\n    //根据id减少药物数量\n    reduceDrugNumber(drId, usedNumber) {\n      request\n        .post(\"drug/reduceDrugNumber\", {\n            drId: drId,\n            usedNumber: usedNumber,\n        })\n        .then((res) => {\n          if (res.data.status !== 200) {\n            this.$message.error(res.data.message);\n          }\n        });\n    },\n    //点击提交按钮\n    submitClick() {\n      for (let i = 0; i < this.drugBuyData.length; i++) {\n        this.reduceDrugNumber(\n          this.drugBuyData[i].drId,\n          this.drugBuyData[i].drNum\n        );\n      }\n      let data = {\n        oId: this.dataPackage().oId,\n        pId: this.pId,\n        dId: this.dId,\n        oRecord: this.dataPackage().oRecord,\n        oDrug: this.dataPackage().oDrug,\n        oCheck: this.dataPackage().oCheck,\n        oTotalPrice: this.dataPackage().oTotalPrice,\n      };\n      request\n        .post(\"doctor/updateOrder\", data)\n        .then((res) => {\n          if (res.data.status !== 200) {\n            this.$message.error(\"请求信息错误\");\n            return;\n          }\n          this.$message.success(\"提交成功！请通知患者登录系统自助缴费！\");\n          this.$router.push(\"/orderToday\");\n          console.log(res.data);\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n    //封装数据\n    dataPackage() {\n      let oDrug = \"\";\n      let oCheck = \"\";\n      let oTotalPrice = 0;\n      let oId = this.oId;\n      let oRecord = this.reason;\n      for (let i = 0; i < this.drugBuyData.length; i++) {\n        oDrug +=\n          this.drugBuyData[i].drName +\n          \"*\" +\n          this.drugBuyData[i].drPrice +\n          \"(元)*\" +\n          this.drugBuyData[i].drNum +\n          \" \";\n      }\n      for (let i = 0; i < this.checkBuyData.length; i++) {\n        oCheck +=\n          this.checkBuyData[i].chName +\n          \"*\" +\n          this.checkBuyData[i].chPrice +\n          \"(元) \";\n      }\n      oCheck += \" 项目总价\" + this.checkTotalPrice + \"元 \";\n      oDrug += \" 药物总价\" + this.drugTotalPrice.toFixed(2) + \"元 \";\n      oTotalPrice = this.checkTotalPrice + this.drugTotalPrice;\n      return { oId, oRecord, oDrug, oCheck, oTotalPrice };\n    },\n    //点击病因保存按钮\n    holdReason() {\n      this.reasonFormVisible = false;\n      this.$message.success(\"信息保存成功！\");\n    },\n    //打开病因编写对话框\n    openReason() {\n      this.reasonFormVisible = true;\n    },\n    //检查列表点击移除按钮\n    deleteCheck(chId) {\n      for (let i = 0; i < this.checkBuyData.length; i++) {\n        if (this.checkBuyData[i].chId === chId) {\n          this.checkTotalPrice -= this.checkBuyData[i].chPrice; //检查项目价格总计\n          this.checkBuyData.splice(i, 1);\n        }\n      }\n    },\n    //检查列表点击增加按钮\n    addCheck(chId) {\n      request\n        .post(\"admin/findCheck\", {\n          chId: chId,\n        })\n        .then((res) => {\n          if (res.data.status != 200) return this.$message.error(\"信息请求失败\");\n          //后端传过来的是对象，表格绑定的数组\n          this.checkBuyData.push({\n            chId: res.data.data.chId,\n            chPrice: res.data.data.chPrice,\n            chName: res.data.data.chName,\n          });\n          this.checkTotalPrice = Math.round((this.checkTotalPrice + res.data.data.chPrice) * 100) / 100; //检查项目价格总计\n        });\n    },\n    //药物页面大小切换时触发\n    checkSizeChange(size) {\n      this.checkSize = size;\n      this.requestCheck();\n    },\n    //检查页数切换时触发\n    checkCurrentChange(num) {\n      this.checkPageNumber = num;\n      this.requestCheck();\n    },\n    //请求检查项目\n    requestCheck() {\n      request\n        .get(\"admin/findAllChecks\", {\n          params: {\n            size: this.checkSize,\n            pageNumber: this.checkPageNumber,\n            query: this.queryCheck,\n          },\n        })\n        .then((res) => {\n          if (res.status != 200) this.$message.error(\"获取信息失败\");\n          this.checkData = res.data.data.checks;\n          this.checkTotal = res.data.data.total;\n          console.log(res);\n        });\n    },\n    /**\n     * 此处逻辑较复杂，容易出现错误\n     */\n    //药物列表点击移除按钮\n    deleteDrug(drId) {\n      for (let i = 0; i < this.drugBuyData.length; i++) {\n        if (this.drugBuyData[i].drId === drId) {\n          for (let j = 0; j < this.drugData.length; j++) {\n            if (this.drugData[j].drId === drId) this.drugData[j].drNumber += 1;\n          }\n          this.drugBuyData[i].drNum -= 1;\n          this.drugBuyData[i].drSum =\n            Math.round(this.drugBuyData[i].drPrice * 100 * this.drugBuyData[i].drNum) / 100;\n\n          this.drugTotalPrice -= this.drugBuyData[i].drPrice; //药物价格总计\n          if (this.drugBuyData[i].drNum === 0) this.drugBuyData.splice(i, 1);\n        }\n      }\n    },\n    //药物列表点击增加按钮\n    addDrug(drId) {\n      request\n        .post(\"admin/findDrug\", {\n          drId: drId,\n        })\n        .then((res) => {\n          if (res.data.status != 200) return this.$message.error(\"信息请求失败\");\n          //后端传过来的是对象，表格绑定的数组\n          for (let i = 0; i < this.drugBuyData.length; i++) {\n            if (this.drugBuyData[i].drId === res.data.data.drId) {\n              for (let j = 0; j < this.drugData.length; j++) {\n                if (\n                  this.drugData[j].drId === res.data.data.drId &&\n                  this.drugData[j].drNumber > 0\n                ) {\n                  this.drugData[j].drNumber -= 1;\n                  this.drugBuyData[i].drNum += 1;\n                  this.drugBuyData[i].drSum =\n                    Math.round(this.drugBuyData[i].drPrice * this.drugBuyData[i].drNum * 100) / 100;\n                  this.drugTotalPrice += this.drugBuyData[i].drPrice; //药物价格总计\n                }\n              }\n              return;\n            }\n          }\n          for (let j = 0; j < this.drugData.length; j++) {\n            if (\n              this.drugData[j].drId === res.data.data.drId &&\n              this.drugData[j].drNumber <= 0\n            )\n              return;\n          }\n          this.drugBuyData.push({\n            drId: res.data.data.drId,\n            drPrice: res.data.data.drPrice,\n            drName: res.data.data.drName,\n            drNum: 1,\n            drSum: res.data.data.drPrice,\n          });\n          for (let j = 0; j < this.drugData.length; j++) {\n            if (this.drugData[j].drId === res.data.data.drId)\n              this.drugData[j].drNumber -= 1;\n          }\n          this.drugTotalPrice = Math.round((this.drugTotalPrice + res.data.data.drPrice) * 100) / 100; //药物价格总计\n        });\n    },\n    //药物页面大小切换时触发\n    handleSizeChange(size) {\n      this.size = size;\n      this.requestDrug();\n    },\n    //药物页数切换时触发\n    handleCurrentChange(num) {\n      this.pageNumber = num;\n      this.requestDrug();\n    },\n\n    //获取药物列表\n    requestDrug() {\n      request\n        .get(\"admin/findAllDrugs\", {\n          params: {\n            size: this.size,\n            pageNumber: this.pageNumber,\n            query: this.queryDrug,\n          },\n        })\n        .then((res) => {\n          if (res.status != 200) this.$message.error(\"获取信息失败\");\n          this.drugData = res.data.data.drugs;\n          this.total = res.data.data.total;\n        });\n    },\n    //获取患者信息\n    requestPatient() {\n      request\n        .get(\"patient/findPatientById\", {\n          params: {\n            pId: this.pId,\n          },\n        })\n        .then((res) => {\n          console.log(res);\n          if (res.data.status != 200) this.$message.error(\"获取信息失败\");\n          this.pName = res.data.data.pName;\n          this.pGender = res.data.data.pGender;\n          this.pPhone = res.data.data.pPhone;\n        });\n    },\n    //token解码\n    tokenDecode(token) {\n      if (token !== null) return jwtDecode(token);\n    },\n  },\n  created() {\n    this.dId = this.tokenDecode(getToken()).dId;\n    this.oId = this.$route.query.oId;\n    this.pId = this.$route.query.pId;\n    this.requestPatient();\n    this.requestDrug();\n    this.requestCheck();\n  },\n};\n</script>\n<style lang=\"scss\">\n// 让文字居中\n.drugRigth {\n  text-align: center;\n}\n\n.el-tag {\n  margin: 8px;\n}\n\n.rigthTable {\n  margin-top: 56px;\n  margin-left: 8px;\n}\n\n.drugInput {\n  margin-top: 8px;\n  margin-bottom: 8px;\n}\n\n.el-row {\n  margin: 5px;\n}\n\n.orderInput {\n  width: 240px;\n}\n\n.el-pagination {\n  margin: 8px;\n}\n</style>"]}]}